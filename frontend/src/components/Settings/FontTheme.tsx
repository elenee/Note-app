import type { ThemeOptionItem } from "./ThemeOption";
import ThemeOption from "./ThemeOption";

export type FontThemeOptions = "sans-serif" | "serif" | "monospace";

const SansSerifIcon = () => (
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M4.80799 17.5507H3L7.06246 6.26184H9.0303L13.0928 17.5507H11.2848L8.09323 8.31236H8.00504L4.80799 17.5507ZM5.11116 13.13H10.9761V14.5631H5.11116V13.13Z"
      fill="currentColor"
    />
    <path
      d="M16.8218 17.7381C16.2853 17.7381 15.8002 17.6389 15.3666 17.4405C14.933 17.2384 14.5894 16.9462 14.3358 16.5641C14.0859 16.1819 13.961 15.7134 13.961 15.1585C13.961 14.6807 14.0528 14.2875 14.2366 13.9789C14.4203 13.6702 14.6684 13.4258 14.9807 13.2457C15.2931 13.0657 15.6422 12.9297 16.028 12.8378C16.4139 12.746 16.8071 12.6762 17.2076 12.6284C17.7148 12.5696 18.1263 12.5218 18.4424 12.4851C18.7584 12.4446 18.9881 12.3803 19.1314 12.2921C19.2747 12.2039 19.3464 12.0606 19.3464 11.8622V11.8236C19.3464 11.3422 19.2104 10.9692 18.9385 10.7046C18.6702 10.4401 18.2696 10.3078 17.7368 10.3078C17.1819 10.3078 16.7446 10.4309 16.4249 10.6771C16.1089 10.9196 15.8902 11.1897 15.769 11.4874L14.22 11.1346C14.4038 10.6201 14.672 10.2049 15.0248 9.88884C15.3813 9.56913 15.791 9.33762 16.254 9.19431C16.7171 9.04732 17.204 8.97382 17.7148 8.97382C18.0528 8.97382 18.4111 9.01424 18.7896 9.09509C19.1718 9.17226 19.5283 9.31558 19.859 9.52504C20.1934 9.7345 20.4672 10.034 20.6803 10.4235C20.8934 10.8094 21 11.311 21 11.9283V17.5507H19.3904V16.3932H19.3243C19.2177 16.6063 19.0579 16.8158 18.8447 17.0216C18.6316 17.2274 18.3578 17.3982 18.0234 17.5342C17.689 17.6702 17.2885 17.7381 16.8218 17.7381ZM17.1801 16.4152C17.6357 16.4152 18.0253 16.3252 18.3487 16.1451C18.6757 15.9651 18.9238 15.7299 19.0928 15.4396C19.2655 15.1456 19.3519 14.8314 19.3519 14.497V13.4056C19.2931 13.4644 19.1792 13.5195 19.0101 13.571C18.8447 13.6187 18.6555 13.661 18.4424 13.6977C18.2292 13.7308 18.0216 13.762 17.8195 13.7914C17.6174 13.8172 17.4483 13.8392 17.3124 13.8576C16.9927 13.898 16.7005 13.966 16.4359 14.0615C16.175 14.1571 15.9656 14.2949 15.8075 14.475C15.6532 14.6513 15.576 14.8865 15.576 15.1805C15.576 15.5884 15.7267 15.8971 16.028 16.1066C16.3294 16.3123 16.7134 16.4152 17.1801 16.4152Z"
      fill="currentColor"
    />
  </svg>
);

const SerifIcon = () => (
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M8.50149 6.31671L12.3588 16.2447C12.5064 16.6346 12.675 16.8981 12.8647 17.0351C13.065 17.1721 13.2494 17.2459 13.418 17.2564V17.5726C13.1651 17.5515 12.8647 17.541 12.5169 17.541C12.1797 17.5305 11.8372 17.5252 11.4894 17.5252C11.0467 17.5252 10.6357 17.5305 10.2563 17.541C9.87686 17.541 9.57122 17.5515 9.33936 17.5726V17.2564C9.87686 17.2354 10.2141 17.1458 10.3511 16.9877C10.4987 16.8191 10.4671 16.466 10.2563 15.9285L7.41067 8.24539L7.66362 7.96083L5.03934 14.8219C4.84964 15.2961 4.73371 15.6914 4.69155 16.0075C4.65993 16.3237 4.68628 16.5714 4.77059 16.7506C4.86545 16.9297 5.02353 17.0562 5.24486 17.13C5.46618 17.2038 5.7402 17.2459 6.06692 17.2564V17.5726C5.75074 17.5515 5.4293 17.541 5.10258 17.541C4.7864 17.5305 4.48603 17.5252 4.20147 17.5252C3.94853 17.5252 3.72194 17.5305 3.52169 17.541C3.33199 17.541 3.15809 17.5515 3 17.5726V17.2564C3.22132 17.2037 3.44265 17.072 3.66397 16.8612C3.8853 16.6504 4.09608 16.2921 4.29633 15.7862L7.96398 6.31671C8.0483 6.31671 8.13788 6.31671 8.23273 6.31671C8.32759 6.31671 8.41717 6.31671 8.50149 6.31671ZM10.1614 13.0197V13.3358H5.45037L5.60846 13.0197H10.1614Z"
      fill="currentColor"
    />
    <path
      d="M15.7198 17.6833C15.2772 17.6833 14.8978 17.599 14.5816 17.4303C14.2654 17.2617 14.0283 17.0299 13.8702 16.7348C13.7121 16.4397 13.6331 16.1024 13.6331 15.723C13.6331 15.2593 13.7385 14.8851 13.9492 14.6006C14.16 14.3055 14.4288 14.0683 14.7555 13.8892C15.0928 13.71 15.4458 13.5624 15.8147 13.4465C16.1941 13.32 16.5472 13.2041 16.8739 13.0987C17.2111 12.9828 17.4852 12.851 17.6959 12.7035C17.9173 12.5559 18.0279 12.361 18.0279 12.1186V11.0436C18.0279 10.6641 17.9647 10.3638 17.8382 10.1425C17.7223 9.91059 17.5589 9.74724 17.3482 9.65238C17.1479 9.55753 16.9055 9.5101 16.6209 9.5101C16.3785 9.5101 16.1203 9.54699 15.8463 9.62076C15.5723 9.684 15.3562 9.81574 15.1981 10.016C15.43 10.0792 15.6197 10.2057 15.7673 10.3954C15.9254 10.5746 16.0044 10.8012 16.0044 11.0752C16.0044 11.3703 15.9043 11.6021 15.704 11.7708C15.5143 11.9394 15.2719 12.0237 14.9768 12.0237C14.6501 12.0237 14.4077 11.9236 14.2496 11.7233C14.0915 11.5126 14.0125 11.2702 14.0125 10.9961C14.0125 10.7116 14.081 10.4797 14.218 10.3005C14.3655 10.1214 14.5553 9.95275 14.7871 9.79466C15.0401 9.62603 15.3615 9.48375 15.7515 9.36782C16.1519 9.25189 16.5946 9.19392 17.0794 9.19392C17.5326 9.19392 17.9225 9.24662 18.2493 9.35201C18.5865 9.44687 18.8658 9.60496 19.0871 9.82628C19.3506 10.0687 19.5245 10.3743 19.6088 10.7432C19.6931 11.1015 19.7353 11.5389 19.7353 12.0553V16.4186C19.7353 16.6821 19.7669 16.8718 19.8301 16.9877C19.9039 17.0931 20.0198 17.1458 20.1779 17.1458C20.2833 17.1458 20.3835 17.1194 20.4783 17.0667C20.5837 17.014 20.7049 16.935 20.8419 16.8296L21 17.0984C20.7787 17.2775 20.5521 17.4198 20.3202 17.5252C20.0989 17.6306 19.8143 17.6833 19.4665 17.6833C19.1293 17.6833 18.8553 17.6306 18.6445 17.5252C18.4337 17.4198 18.2756 17.267 18.1702 17.0667C18.0754 16.8665 18.0279 16.6188 18.0279 16.3237C17.7539 16.7664 17.4272 17.1036 17.0478 17.3355C16.6684 17.5674 16.2257 17.6833 15.7198 17.6833ZM16.4787 16.9245C16.7738 16.9245 17.0478 16.8401 17.3007 16.6715C17.5642 16.5029 17.8066 16.2499 18.0279 15.9127V12.7667C17.912 12.9354 17.7434 13.0829 17.522 13.2094C17.3007 13.3253 17.0636 13.4465 16.8106 13.573C16.5577 13.6995 16.3153 13.847 16.0834 14.0156C15.8621 14.1737 15.6777 14.3792 15.5301 14.6322C15.3826 14.8851 15.3088 15.2066 15.3088 15.5965C15.3088 16.0075 15.4142 16.3343 15.625 16.5767C15.8358 16.8085 16.1203 16.9245 16.4787 16.9245Z"
      fill="currentColor"
    />
  </svg>
);

const MonospaceIcon = () => (
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M3 17.3653L6.60467 6.43445H8.54051L12.1452 17.3653H10.3762L8.60726 11.4076C8.42925 10.8068 8.25125 10.206 8.07324 9.60522C7.90635 8.99332 7.73947 8.38141 7.57259 7.76951H7.50584C7.35008 8.38141 7.1832 8.99332 7.00519 9.60522C6.8383 10.206 6.66586 10.8068 6.48785 11.4076L4.7022 17.3653H3ZM5.01928 14.2279V12.9095H10.0925V14.2279H5.01928Z"
      fill="currentColor"
    />
    <path
      d="M16.3441 17.5655C15.8212 17.5655 15.3484 17.471 14.9256 17.2818C14.514 17.0816 14.1858 16.809 13.941 16.4641C13.7074 16.1081 13.5905 15.6909 13.5905 15.2125C13.5905 14.3002 14.0356 13.6048 14.9256 13.1264C15.8268 12.6481 17.3009 12.331 19.348 12.1752C19.3369 11.8415 19.259 11.5355 19.1144 11.2574C18.9809 10.9792 18.7639 10.7623 18.4635 10.6065C18.1743 10.4396 17.7904 10.3562 17.312 10.3562C16.9783 10.3562 16.6501 10.4007 16.3274 10.4897C16.0048 10.5676 15.6933 10.6788 15.3929 10.8235C15.0925 10.9681 14.8088 11.1183 14.5418 11.2741L13.9243 10.1559C14.2247 9.97793 14.5696 9.79992 14.959 9.62191C15.3484 9.43278 15.7656 9.28258 16.2106 9.17133C16.6667 9.06007 17.1285 9.00444 17.5957 9.00444C18.3523 9.00444 18.9809 9.14351 19.4815 9.42165C19.9822 9.69979 20.3604 10.0947 20.6163 10.6065C20.8722 11.1183 21.0001 11.7358 21.0001 12.4589V17.3653H19.6484L19.5149 16.3139H19.4648C19.0309 16.6477 18.5414 16.9425 17.9962 17.1984C17.4511 17.4432 16.9004 17.5655 16.3441 17.5655ZM16.8114 16.2472C17.2453 16.2472 17.6736 16.1526 18.0964 15.9635C18.5191 15.7743 18.9364 15.5073 19.348 15.1624V13.2266C18.2799 13.3045 17.44 13.4268 16.8281 13.5937C16.2273 13.7606 15.8045 13.972 15.5598 14.2279C15.315 14.4726 15.1926 14.7619 15.1926 15.0957C15.1926 15.3627 15.2649 15.5852 15.4096 15.7632C15.5653 15.9301 15.7656 16.0525 16.0103 16.1303C16.2551 16.2082 16.5221 16.2472 16.8114 16.2472Z"
      fill="currentColor"
    />
  </svg>
);

const themeOptions: ThemeOptionItem<FontThemeOptions>[] = [
  {
    label: "Sans-serif",
    value: "sans-serif",
    text: "Pick a clean and classic light theme",
    icon: <SansSerifIcon />,
  },
  {
    label: "Serif",
    value: "serif",
    text: "Select a sleek and modern dark theme",
    icon: <SerifIcon />,
  },
  {
    label: "Monospace",
    value: "monospace",
    text: "Adapts to your deviceâ€™s theme",
    icon: <MonospaceIcon />,
  },
];

type FontThemeProps = {
  selected: FontThemeOptions;
  onChange: (value: FontThemeOptions) => void;
};

const FontTheme = ({ selected, onChange }: FontThemeProps) => {
  const applyFontTheme = (font: FontThemeOptions) => {
    const root = document.documentElement;

    const map: Record<FontThemeOptions, string> = {
      "sans-serif": "var(--font-sans)",
      serif: "var(--font-serif)",
      monospace: "var(--font-mono)",
    };

    root.style.setProperty("--app-font", map[font]);
    localStorage.setItem("font-theme", font);

    onChange(font); 
  };

  return (
    <ThemeOption<FontThemeOptions>
      title="Font Theme"
      options={themeOptions}
      selected={selected}
      onChange={applyFontTheme}
    />
  );
};

export default FontTheme;
